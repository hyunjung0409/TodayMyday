{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _asyncToGenerator from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import _regeneratorRuntime from\"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import{Row,Col,Button,Space,Modal}from'antd';import styled from'styled-components';import{getAxios}from'../../api';import{useNavigate}from'react-router-dom';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=getAxios();function DiaryFooter(_ref){var dno=_ref.dno;var _useSelector=useSelector(function(state){return state.user;}),me=_useSelector.me;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalVisible=_useState2[0],setIsModalVisible=_useState2[1];var navigate=useNavigate();var handleModify=function handleModify(){navigate(\"/diary/modify/\".concat(dno));};var showModal=function showModal(){setIsModalVisible(true);};var handleOk=function handleOk(){setIsModalVisible(false);deleteDiary();success();};var handleCancel=function handleCancel(){setIsModalVisible(false);};var deleteDiary=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.delete(\"diary/\".concat(dno),{params:{dno:dno,userId:me.userId}});case 2:case\"end\":return _context.stop();}}},_callee);}));return function deleteDiary(){return _ref2.apply(this,arguments);};}();var handleMove=function handleMove(){// navigate('/')\nnavigate(-1);};var success=function success(){Modal.success({content:'글 삭제가 완료되었습니다.',onOk:handleMove});};return/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{span:24,children:[/*#__PURE__*/_jsx(StyledContainer,{children:/*#__PURE__*/_jsxs(Space,{size:\"middle\",children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:handleModify,children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(Button,{type:\"danger\",onClick:showModal,children:\"\\uC0AD\\uC81C\"})]})}),/*#__PURE__*/_jsx(Modal,{title:\"\\uAE00 \\uC0AD\\uC81C\",visible:isModalVisible,onOk:handleOk,onCancel:handleCancel,children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD574\\uB2F9 \\uAE00\\uC744 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"})})]})});}var StyledContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: end;\\n  align-items: center;\\n\"])));export default DiaryFooter;","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Detail/DiaryFooter.jsx"],"names":["React","useState","Row","Col","Button","Space","Modal","styled","getAxios","useNavigate","useSelector","axios","DiaryFooter","dno","state","user","me","isModalVisible","setIsModalVisible","navigate","handleModify","showModal","handleOk","deleteDiary","success","handleCancel","delete","params","userId","handleMove","content","onOk","StyledContainer","div"],"mappings":"snBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,MAAnB,CAA2BC,KAA3B,CAAkCC,KAAlC,KAA+C,MAA/C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,QAAT,KAAyB,WAAzB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFAEA,GAAMC,CAAAA,KAAK,CAAGH,QAAQ,EAAtB,CAEA,QAASI,CAAAA,WAAT,MAA8B,IAAPC,CAAAA,GAAO,MAAPA,GAAO,CAC5B,iBAAeH,WAAW,CAAC,SAACI,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAjB,EAAD,CAA1B,CAAQC,EAAR,cAAQA,EAAR,CACA,cAA4Cf,QAAQ,CAAC,KAAD,CAApD,wCAAOgB,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBD,QAAQ,yBAAkBN,GAAlB,EAAR,CACD,CAFD,CAIA,GAAMQ,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBH,iBAAiB,CAAC,IAAD,CAAjB,CACD,CAFD,CAIA,GAAMI,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBJ,iBAAiB,CAAC,KAAD,CAAjB,CACAK,WAAW,GACXC,OAAO,GACR,CAJD,CAMA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBP,iBAAiB,CAAC,KAAD,CAAjB,CACD,CAFD,CAIA,GAAMK,CAAAA,WAAW,2FAAG,yJACZZ,CAAAA,KAAK,CAACe,MAAN,iBAAsBb,GAAtB,EAA6B,CACjCc,MAAM,CAAE,CAAEd,GAAG,CAAEA,GAAP,CAAYe,MAAM,CAAEZ,EAAE,CAACY,MAAvB,CADyB,CAA7B,CADY,uDAAH,kBAAXL,CAAAA,WAAW,2CAAjB,CAMA,GAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB;AACAV,QAAQ,CAAC,CAAC,CAAF,CAAR,CACD,CAHD,CAKA,GAAMK,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBlB,KAAK,CAACkB,OAAN,CAAc,CACZM,OAAO,CAAE,gBADG,CAEZC,IAAI,CAAEF,UAFM,CAAd,EAID,CALD,CAOA,mBACE,KAAC,GAAD,wBACE,MAAC,GAAD,EAAK,IAAI,CAAE,EAAX,wBACE,KAAC,eAAD,wBACE,MAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,wBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,OAAO,CAAET,YAAhC,0BADF,cAIE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEC,SAA/B,0BAJF,GADF,EADF,cAWE,KAAC,KAAD,EAAO,KAAK,CAAC,qBAAb,CAAoB,OAAO,CAAEJ,cAA7B,CAA6C,IAAI,CAAEK,QAAnD,CAA6D,QAAQ,CAAEG,YAAvE,uBACE,kGADF,EAXF,GADF,EADF,CAmBD,CAED,GAAMO,CAAAA,eAAe,CAAGzB,MAAM,CAAC0B,GAAV,sIAArB,CAMA,cAAerB,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport { Row, Col, Button, Space, Modal } from 'antd'\r\nimport styled from 'styled-components'\r\nimport { getAxios } from '../../api'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst axios = getAxios()\r\n\r\nfunction DiaryFooter({ dno }) {\r\n  const { me } = useSelector((state) => state.user)\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const handleModify = () => {\r\n    navigate(`/diary/modify/${dno}`)\r\n  }\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true)\r\n  }\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false)\r\n    deleteDiary()\r\n    success()\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false)\r\n  }\r\n\r\n  const deleteDiary = async () => {\r\n    await axios.delete(`diary/${dno}`, {\r\n      params: { dno: dno, userId: me.userId },\r\n    })\r\n  }\r\n\r\n  const handleMove = () => {\r\n    // navigate('/')\r\n    navigate(-1)\r\n  }\r\n\r\n  const success = () => {\r\n    Modal.success({\r\n      content: '글 삭제가 완료되었습니다.',\r\n      onOk: handleMove,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col span={24}>\r\n        <StyledContainer>\r\n          <Space size=\"middle\">\r\n            <Button type=\"primary\" onClick={handleModify}>\r\n              수정\r\n            </Button>\r\n            <Button type=\"danger\" onClick={showModal}>\r\n              삭제\r\n            </Button>\r\n          </Space>\r\n        </StyledContainer>\r\n        <Modal title=\"글 삭제\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n          <p>해당 글을 삭제하시겠습니까?</p>\r\n        </Modal>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst StyledContainer = styled.div`\r\n  display: flex;\r\n  justify-content: end;\r\n  align-items: center;\r\n`\r\n\r\nexport default DiaryFooter\r\n"]},"metadata":{},"sourceType":"module"}