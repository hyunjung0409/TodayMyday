{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import{Form,Input,Button,Select,Modal}from'antd';import ImageFileInput from'../ImageFileInput';import{getAxios}from'../../api';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Option=Select.Option;function SignupForm(_ref){var imageUploader=_ref.imageUploader,data=_ref.data;var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState=useState({fileName:null,fileURL:null}),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var navigate=useNavigate();var onFileChange=function onFileChange(file){setFile({fileName:file.name,fileURL:file.url});};var onFinish=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var axios;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios=getAxios();_context.next=3;return axios.post('user/signup',{image:file.fileURL,nickname:values.nickname,password:values.password,userId:values.id,age:values.ageRange,gender:values.gender});case 3:console.log('Success');case 4:case\"end\":return _context.stop();}}},_callee);}));return function onFinish(_x){return _ref2.apply(this,arguments);};}();var onFinishFailed=function onFinishFailed(errorInfo){console.log('Failed:',errorInfo);};var handleMove=function handleMove(){navigate('/');};var success=function success(){Modal.success({content:'회원가입이 완료되었습니다.',onOk:handleMove});};return/*#__PURE__*/_jsxs(Form,{form:form,name:\"signup\",onFinish:onFinish,onFinishFailed:onFinishFailed,autoComplete:\"off\",layout:\"vertical\",children:[/*#__PURE__*/_jsx(Form.Item,{label:\"\\uD504\\uB85C\\uD544 \\uC774\\uBBF8\\uC9C0\",name:\"image\",rules:[{required:false,message:'Please upload your profile picture!'}],children:/*#__PURE__*/_jsx(ImageFileInput,{name:file.fileName,imageUploader:imageUploader,onFileChange:onFileChange,file:file,data:data,setFile:setFile})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\uC544\\uC774\\uB514\",name:\"id\",rules:[{required:true,message:'Please input your id!'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\uBE44\\uBC00\\uBC88\\uD638\",name:\"password\",rules:[{required:true,message:'Please input your password!'}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",name:\"confirm\",dependencies:['password'],hasFeedback:true,rules:[{required:true,message:'Please confirm your password!'},function(_ref3){var getFieldValue=_ref3.getFieldValue;return{validator:function validator(_,value){if(!value||getFieldValue('password')===value){return Promise.resolve();}return Promise.reject(new Error('The two passwords that you entered do not match!'));}};}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\uB2C9\\uB124\\uC784\",name:\"nickname\",tooltip:\"What do you want others to call you?\",rules:[{required:true,message:'Please input your nickname!',whitespace:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\uC131\\uBCC4\",name:\"gender\",rules:[{required:false,message:'Please select gender!'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Select your gender\",children:[/*#__PURE__*/_jsx(Option,{value:\"male\",children:\"\\uB0A8\\uC131\"}),/*#__PURE__*/_jsx(Option,{value:\"female\",children:\"\\uC5EC\\uC131\"})]})}),/*#__PURE__*/_jsx(Form.Item,{label:\"\\uC5F0\\uB839\\uB300\",name:\"ageRange\",rules:[{required:false,message:'Please select ageRange!'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Select your ageRange\",children:[/*#__PURE__*/_jsx(Option,{value:\"1\",children:\"\\uC5B4\\uB9B0\\uC774 (0~9)\"}),/*#__PURE__*/_jsx(Option,{value:\"2\",children:\"\\uCCAD\\uC18C\\uB144 (10~19)\"}),/*#__PURE__*/_jsx(Option,{value:\"3\",children:\"\\uCCAD\\uB144 (20~29)\"}),/*#__PURE__*/_jsx(Option,{value:\"4\",children:\"\\uC911/\\uC7A5\\uB144 (30~59)\"}),/*#__PURE__*/_jsx(Option,{value:\"5\",children:\"\\uB178\\uB144 (60~)\"})]})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",onClick:success,children:\"Register\"})})]});}export default SignupForm;","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Signup/SignupForm.jsx"],"names":["React","useState","Form","Input","Button","Select","Modal","ImageFileInput","getAxios","useNavigate","Option","SignupForm","imageUploader","data","useForm","form","fileName","fileURL","file","setFile","navigate","onFileChange","name","url","onFinish","values","axios","post","image","nickname","password","userId","id","age","ageRange","gender","console","log","onFinishFailed","errorInfo","handleMove","success","content","onOk","required","message","getFieldValue","validator","_","value","Promise","resolve","reject","Error","whitespace"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Form, Input, Button, Select, Modal } from 'antd'\r\nimport ImageFileInput from '../ImageFileInput'\r\nimport { getAxios } from '../../api'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst { Option } = Select\r\n\r\nfunction SignupForm({ imageUploader, data }) {\r\n  const [form] = Form.useForm()\r\n  const [file, setFile] = useState({ fileName: null, fileURL: null })\r\n  const navigate = useNavigate()\r\n\r\n  const onFileChange = (file) => {\r\n    setFile({\r\n      fileName: file.name,\r\n      fileURL: file.url,\r\n    })\r\n  }\r\n\r\n  const onFinish = async (values) => {\r\n    const axios = getAxios()\r\n    await axios.post('user/signup', {\r\n      image: file.fileURL,\r\n      nickname: values.nickname,\r\n      password: values.password,\r\n      userId: values.id,\r\n      age: values.ageRange,\r\n      gender: values.gender,\r\n    })\r\n    console.log('Success')\r\n  }\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo)\r\n  }\r\n\r\n  const handleMove = () => {\r\n    navigate('/')\r\n  }\r\n\r\n  const success = () => {\r\n    Modal.success({\r\n      content: '회원가입이 완료되었습니다.',\r\n      onOk: handleMove,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      form={form}\r\n      name=\"signup\"\r\n      onFinish={onFinish}\r\n      onFinishFailed={onFinishFailed}\r\n      autoComplete=\"off\"\r\n      layout=\"vertical\">\r\n      <Form.Item\r\n        label=\"프로필 이미지\"\r\n        name=\"image\"\r\n        rules={[\r\n          {\r\n            required: false,\r\n            message: 'Please upload your profile picture!',\r\n          },\r\n        ]}>\r\n        <ImageFileInput\r\n          name={file.fileName}\r\n          imageUploader={imageUploader}\r\n          onFileChange={onFileChange}\r\n          file={file}\r\n          data={data}\r\n          setFile={setFile}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"아이디\"\r\n        name=\"id\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: 'Please input your id!',\r\n          },\r\n        ]}>\r\n        <Input />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"비밀번호\"\r\n        name=\"password\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: 'Please input your password!',\r\n          },\r\n        ]}>\r\n        <Input.Password />\r\n      </Form.Item>\r\n      <Form.Item\r\n        label=\"비밀번호 확인\"\r\n        name=\"confirm\"\r\n        dependencies={['password']}\r\n        hasFeedback\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: 'Please confirm your password!',\r\n          },\r\n          ({ getFieldValue }) => ({\r\n            validator(_, value) {\r\n              if (!value || getFieldValue('password') === value) {\r\n                return Promise.resolve()\r\n              }\r\n\r\n              return Promise.reject(new Error('The two passwords that you entered do not match!'))\r\n            },\r\n          }),\r\n        ]}>\r\n        <Input.Password />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"닉네임\"\r\n        name=\"nickname\"\r\n        tooltip=\"What do you want others to call you?\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: 'Please input your nickname!',\r\n            whitespace: true,\r\n          },\r\n        ]}>\r\n        <Input />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"성별\"\r\n        name=\"gender\"\r\n        rules={[\r\n          {\r\n            required: false,\r\n            message: 'Please select gender!',\r\n          },\r\n        ]}>\r\n        <Select placeholder=\"Select your gender\">\r\n          <Option value=\"male\">남성</Option>\r\n          <Option value=\"female\">여성</Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"연령대\"\r\n        name=\"ageRange\"\r\n        rules={[\r\n          {\r\n            required: false,\r\n            message: 'Please select ageRange!',\r\n          },\r\n        ]}>\r\n        <Select placeholder=\"Select your ageRange\">\r\n          <Option value=\"1\">어린이 (0~9)</Option>\r\n          <Option value=\"2\">청소년 (10~19)</Option>\r\n          <Option value=\"3\">청년 (20~29)</Option>\r\n          <Option value=\"4\">중/장년 (30~59)</Option>\r\n          <Option value=\"5\">노년 (60~)</Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\" onClick={success}>\r\n          Register\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default SignupForm\r\n"]},"metadata":{},"sourceType":"module"}