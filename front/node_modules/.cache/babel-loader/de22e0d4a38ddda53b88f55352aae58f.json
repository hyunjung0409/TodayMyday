{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\src\\\\components\\\\Detail\\\\DiaryFooter.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Row, Col, Button, Space, Modal } from 'antd';\nimport styled from 'styled-components';\nimport { getAxios } from '../../api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst axios = getAxios();\n\nfunction DiaryFooter(_ref) {\n  _s();\n\n  let {\n    dno,\n    me\n  } = _ref;\n  const [size, setSize] = useState(8);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const navigate = useNavigate();\n\n  const handleModify = () => {\n    navigate(`/diary/modify/${dno}`);\n  };\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n    deleteDiary();\n    success();\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const deleteDiary = async () => {\n    await axios.delete(`diary/${dno}`, {\n      params: {\n        dno: dno,\n        userId: me.userId\n      }\n    });\n  };\n\n  const handleMove = () => {\n    navigate('/');\n  };\n\n  const success = () => {\n    Modal.success({\n      content: '글 삭제가 완료되었습니다.',\n      onOk: handleMove\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Row, {\n    children: /*#__PURE__*/_jsxDEV(Col, {\n      span: 24,\n      children: [/*#__PURE__*/_jsxDEV(StyledContainer, {\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          size: size,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            onClick: handleModify,\n            children: \"\\uC218\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"danger\",\n            onClick: showModal,\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"\\uAE00 \\uC0AD\\uC81C\",\n        visible: isModalVisible,\n        onOk: handleOk,\n        onCancel: handleCancel,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD574\\uB2F9 \\uAE00\\uC744 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DiaryFooter, \"dcQZsECikkX+GBYeP/S+o6kb10k=\", false, function () {\n  return [useNavigate];\n});\n\n_c = DiaryFooter;\nconst StyledContainer = styled.div`\n  display: flex;\n  justify-content: end;\n  align-items: center;\n`;\n_c2 = StyledContainer;\nexport default DiaryFooter;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DiaryFooter\");\n$RefreshReg$(_c2, \"StyledContainer\");","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Detail/DiaryFooter.jsx"],"names":["React","useState","Row","Col","Button","Space","Modal","styled","getAxios","useNavigate","axios","DiaryFooter","dno","me","size","setSize","isModalVisible","setIsModalVisible","navigate","handleModify","showModal","handleOk","deleteDiary","success","handleCancel","delete","params","userId","handleMove","content","onOk","StyledContainer","div"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Row, Col, Button, Space, Modal } from 'antd'\r\nimport styled from 'styled-components'\r\nimport { getAxios } from '../../api'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst axios = getAxios()\r\n\r\nfunction DiaryFooter({ dno, me }) {\r\n  const [size, setSize] = useState(8)\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const handleModify = () => {\r\n    navigate(`/diary/modify/${dno}`)\r\n  }\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true)\r\n  }\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false)\r\n    deleteDiary()\r\n    success()\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false)\r\n  }\r\n\r\n  const deleteDiary = async () => {\r\n    await axios.delete(`diary/${dno}`, {\r\n      params: { dno: dno, userId: me.userId },\r\n    })\r\n  }\r\n\r\n  const handleMove = () => {\r\n    navigate('/')\r\n  }\r\n\r\n  const success = () => {\r\n    Modal.success({\r\n      content: '글 삭제가 완료되었습니다.',\r\n      onOk: handleMove,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col span={24}>\r\n        <StyledContainer>\r\n          <Space size={size}>\r\n            <Button type=\"primary\" onClick={handleModify}>\r\n              수정\r\n            </Button>\r\n            <Button type=\"danger\" onClick={showModal}>\r\n              삭제\r\n            </Button>\r\n          </Space>\r\n        </StyledContainer>\r\n        <Modal title=\"글 삭제\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n          <p>해당 글을 삭제하시겠습니까?</p>\r\n        </Modal>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst StyledContainer = styled.div`\r\n  display: flex;\r\n  justify-content: end;\r\n  align-items: center;\r\n`\r\n\r\nexport default DiaryFooter\r\n"]},"metadata":{},"sourceType":"module"}