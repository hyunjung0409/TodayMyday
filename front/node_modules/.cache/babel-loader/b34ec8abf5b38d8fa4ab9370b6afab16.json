{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\src\\\\components\\\\Profile\\\\MyPicture.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { EditOutlined } from '@ant-design/icons';\nimport { getAxios } from '../../api';\nimport ImageFileInput from '../ImageFileInput';\nimport './MyPicture.css';\nimport { useSelector } from 'react-redux';\nimport { Button } from 'antd'; // const MyPic = styled.div`\n//   margin-left: auto;\n//   margin-right: auto;\n//   width: 250px;\n//   height: 250px;\n//   border-radius: 50%;\n//   border: solid;\n//   overflow: hidden;\n//   position: relative;\n// `\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Submit = styled(Button)`\n  margin-top: 10px;\n`;\n_c = Submit;\n\nfunction MyPicture(_ref) {\n  _s();\n\n  let {\n    imageUploader,\n    data\n  } = _ref;\n  const {\n    me\n  } = useSelector(state => state.user);\n  const axios = getAxios();\n  const [file2, setFile2] = useState({\n    fileName: null,\n    fileURL: null\n  });\n  const formRef = useRef();\n\n  const onFileChange = file2 => {\n    setFile2({\n      fileName: file2.name,\n      fileURL: file2.url\n    });\n    console.log(file2);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const data = {\n      image: file2.fileURL || ''\n    };\n    axios.post(`dairy/${me.userId}`, data).then(res => {\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    });\n    formRef.current.reset();\n  }; // const formRef = useRef()\n  // const onSubmit = (event) => {\n  //   event.preventDefault()\n  //   const data = {\n  //     id: Date.now(), // uuid\n  //     fileName: file2.fileName || '',\n  //     fileURL: file2.fileURL || '',\n  //   }\n  //   formRef.current.reset()\n  // }\n  // const onLoadFile = (e) => {\n  //   const file = e.target.files[0]\n  //   setFiles(file)\n  // }\n  // const preview = () => {\n  //   let profile_image = null\n  //   const imgEl = document.querySelector('.img__box')\n  //   const reader = new FileReader()\n  //   if (file !== '') {\n  //     profile_image = <img className=\"profile_image\" src={file}></img>\n  //   }\n  //   reader.onload = () => (imgEl.style.backgroundImage = `url(${reader.result})`)\n  //   reader.readAsDataURL(file)\n  // }\n\n\n  const imageInput = useRef();\n\n  const onClickImageUpload = () => {\n    imageInput.current.click();\n  };\n\n  useEffect(() => {\n    try {\n      setFile2({\n        fileName: me.name,\n        fileURL: me.image\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"MyPic\",\n      children: /*#__PURE__*/_jsxDEV(ImageFileInput, {\n        name: file2.fileName,\n        imageUploader: imageUploader,\n        onFileChange: onFileChange,\n        file: file2 // form={form}\n        ,\n        data: data,\n        setFile: setFile2,\n        className: \"profileImage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), ' ', /*#__PURE__*/_jsxDEV(Submit, {\n      type: \"primary\",\n      onClick: onSubmit,\n      children: \"\\uB4F1\\uB85D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditOutlined, {\n      onClick: onClickImageUpload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyPicture, \"GyEuuAkdHS0H+Rw/Y01kUtGa5yM=\", false, function () {\n  return [useSelector];\n});\n\n_c2 = MyPicture;\nexport default MyPicture;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Submit\");\n$RefreshReg$(_c2, \"MyPicture\");","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Profile/MyPicture.jsx"],"names":["React","useState","useRef","useEffect","styled","EditOutlined","getAxios","ImageFileInput","useSelector","Button","Submit","MyPicture","imageUploader","data","me","state","user","axios","file2","setFile2","fileName","fileURL","formRef","onFileChange","name","url","console","log","onSubmit","event","preventDefault","image","post","userId","then","res","catch","err","current","reset","imageInput","onClickImageUpload","click"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { EditOutlined } from '@ant-design/icons'\r\nimport { getAxios } from '../../api'\r\nimport ImageFileInput from '../ImageFileInput'\r\nimport './MyPicture.css'\r\nimport { useSelector } from 'react-redux'\r\nimport { Button } from 'antd'\r\n\r\n// const MyPic = styled.div`\r\n//   margin-left: auto;\r\n//   margin-right: auto;\r\n//   width: 250px;\r\n//   height: 250px;\r\n//   border-radius: 50%;\r\n//   border: solid;\r\n//   overflow: hidden;\r\n//   position: relative;\r\n// `\r\nconst Submit = styled(Button)`\r\n  margin-top: 10px;\r\n`\r\nfunction MyPicture({ imageUploader, data }) {\r\n  const { me } = useSelector((state) => state.user)\r\n  const axios = getAxios()\r\n\r\n  const [file2, setFile2] = useState({ fileName: null, fileURL: null })\r\n  const formRef = useRef()\r\n\r\n  const onFileChange = (file2) => {\r\n    setFile2({\r\n      fileName: file2.name,\r\n      fileURL: file2.url,\r\n    })\r\n    console.log(file2)\r\n  }\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault()\r\n    const data = {\r\n      image: file2.fileURL || '',\r\n    }\r\n    axios\r\n      .post(`dairy/${me.userId}`, data)\r\n      .then((res) => {\r\n        console.log(res)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n    formRef.current.reset()\r\n  }\r\n  // const formRef = useRef()\r\n\r\n  // const onSubmit = (event) => {\r\n  //   event.preventDefault()\r\n  //   const data = {\r\n  //     id: Date.now(), // uuid\r\n  //     fileName: file2.fileName || '',\r\n  //     fileURL: file2.fileURL || '',\r\n  //   }\r\n  //   formRef.current.reset()\r\n  // }\r\n  // const onLoadFile = (e) => {\r\n  //   const file = e.target.files[0]\r\n  //   setFiles(file)\r\n  // }\r\n  // const preview = () => {\r\n  //   let profile_image = null\r\n  //   const imgEl = document.querySelector('.img__box')\r\n  //   const reader = new FileReader()\r\n  //   if (file !== '') {\r\n  //     profile_image = <img className=\"profile_image\" src={file}></img>\r\n  //   }\r\n  //   reader.onload = () => (imgEl.style.backgroundImage = `url(${reader.result})`)\r\n  //   reader.readAsDataURL(file)\r\n  // }\r\n\r\n  const imageInput = useRef()\r\n  const onClickImageUpload = () => {\r\n    imageInput.current.click()\r\n  }\r\n  useEffect(() => {\r\n    try {\r\n      setFile2({ fileName: me.name, fileURL: me.image })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }, [])\r\n  return (\r\n    <div>\r\n      <div className=\"MyPic\">\r\n        <ImageFileInput\r\n          name={file2.fileName}\r\n          imageUploader={imageUploader}\r\n          onFileChange={onFileChange}\r\n          file={file2}\r\n          // form={form}\r\n          data={data}\r\n          setFile={setFile2}\r\n          className=\"profileImage\"\r\n        />\r\n      </div>{' '}\r\n      <Submit type=\"primary\" onClick={onSubmit}>\r\n        등록\r\n      </Submit>\r\n      <EditOutlined onClick={onClickImageUpload}></EditOutlined>\r\n    </div>\r\n  )\r\n}\r\nexport default MyPicture\r\n"]},"metadata":{},"sourceType":"module"}