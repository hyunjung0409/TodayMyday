{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\src\\\\components\\\\Detail\\\\DiaryFooter.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Row, Col, Button, Space, Modal } from 'antd';\nimport styled from 'styled-components';\nimport { getAxios } from '../../api';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst axios = getAxios();\n\nfunction DiaryFooter(_ref) {\n  _s();\n\n  let {\n    diary,\n    dno\n  } = _ref;\n  const {\n    me\n  } = useSelector(state => state.user);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const navigate = useNavigate();\n\n  const handleModify = () => {\n    navigate(`/diary/modify/${dno}`);\n  };\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n    deleteDiary();\n    success();\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const deleteDiary = async () => {\n    await axios.delete(`diary/${dno}`, {\n      params: {\n        dno: dno,\n        userId: me.userId\n      }\n    });\n  };\n\n  const handleMove = () => {\n    navigate('/my/articleList'); // navigate(-1)\n  };\n\n  const success = () => {\n    Modal.success({\n      content: '글 삭제가 완료되었습니다.',\n      onOk: handleMove\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Row, {\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      span: 12,\n      children: /*#__PURE__*/_jsxDEV(StyledStratContainer, {\n        children: me.nickname === diary.nickname ? /*#__PURE__*/_jsxDEV(StyledPrimaryBtn, {\n          type: \"text\",\n          onClick: handleMove,\n          children: \"\\uB0B4 \\uAE00 \\uBAA9\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      span: 12,\n      children: [/*#__PURE__*/_jsxDEV(StyledEndContainer, {\n        children: me.nickname === diary.nickname ? /*#__PURE__*/_jsxDEV(Space, {\n          size: \"middle\",\n          children: [/*#__PURE__*/_jsxDEV(StyledPrimaryBtn, {\n            type: \"text\",\n            onClick: handleModify,\n            children: \"\\uC218\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledDangerBtn, {\n            type: \"text\",\n            onClick: showModal,\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"\\uAE00 \\uC0AD\\uC81C\",\n        visible: isModalVisible,\n        onOk: handleOk,\n        onCancel: handleCancel,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD574\\uB2F9 \\uAE00\\uC744 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DiaryFooter, \"UJXkc4EdeNC0zgf6P9TZDkU3PTM=\", false, function () {\n  return [useSelector, useNavigate];\n});\n\n_c = DiaryFooter;\nconst StyledStratContainer = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n`;\n_c2 = StyledStratContainer;\nconst StyledEndContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\n_c3 = StyledEndContainer;\nconst StyledPrimaryBtn = styled(Button)`\n  span {\n    color: #188fff;\n  }\n`;\n_c4 = StyledPrimaryBtn;\nconst StyledDangerBtn = styled(Button)`\n  span {\n    color: #ff4d4f;\n  }\n`;\n_c5 = StyledDangerBtn;\nexport default DiaryFooter;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"DiaryFooter\");\n$RefreshReg$(_c2, \"StyledStratContainer\");\n$RefreshReg$(_c3, \"StyledEndContainer\");\n$RefreshReg$(_c4, \"StyledPrimaryBtn\");\n$RefreshReg$(_c5, \"StyledDangerBtn\");","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Detail/DiaryFooter.jsx"],"names":["React","useState","Row","Col","Button","Space","Modal","styled","getAxios","useNavigate","useSelector","axios","DiaryFooter","diary","dno","me","state","user","isModalVisible","setIsModalVisible","navigate","handleModify","showModal","handleOk","deleteDiary","success","handleCancel","delete","params","userId","handleMove","content","onOk","nickname","StyledStratContainer","div","StyledEndContainer","StyledPrimaryBtn","StyledDangerBtn"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Row, Col, Button, Space, Modal } from 'antd'\r\nimport styled from 'styled-components'\r\nimport { getAxios } from '../../api'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst axios = getAxios()\r\n\r\nfunction DiaryFooter({ diary, dno }) {\r\n  const { me } = useSelector((state) => state.user)\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const handleModify = () => {\r\n    navigate(`/diary/modify/${dno}`)\r\n  }\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true)\r\n  }\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false)\r\n    deleteDiary()\r\n    success()\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false)\r\n  }\r\n\r\n  const deleteDiary = async () => {\r\n    await axios.delete(`diary/${dno}`, {\r\n      params: { dno: dno, userId: me.userId },\r\n    })\r\n  }\r\n\r\n  const handleMove = () => {\r\n    navigate('/my/articleList')\r\n    // navigate(-1)\r\n  }\r\n\r\n  const success = () => {\r\n    Modal.success({\r\n      content: '글 삭제가 완료되었습니다.',\r\n      onOk: handleMove,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col span={12}>\r\n        <StyledStratContainer>\r\n          {me.nickname === diary.nickname ? (\r\n            <StyledPrimaryBtn type=\"text\" onClick={handleMove}>\r\n              내 글 목록\r\n            </StyledPrimaryBtn>\r\n          ) : null}\r\n        </StyledStratContainer>\r\n      </Col>\r\n      <Col span={12}>\r\n        <StyledEndContainer>\r\n          {me.nickname === diary.nickname ? (\r\n            <Space size=\"middle\">\r\n              <StyledPrimaryBtn type=\"text\" onClick={handleModify}>\r\n                수정\r\n              </StyledPrimaryBtn>\r\n              <StyledDangerBtn type=\"text\" onClick={showModal}>\r\n                삭제\r\n              </StyledDangerBtn>\r\n              {/* <Button type=\"primary\" onClick={handleModify}>\r\n              수정\r\n            </Button>\r\n            <Button type=\"danger\" onClick={showModal}>\r\n              삭제\r\n            </Button> */}\r\n            </Space>\r\n          ) : null}\r\n        </StyledEndContainer>\r\n        <Modal title=\"글 삭제\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n          <p>해당 글을 삭제하시겠습니까?</p>\r\n        </Modal>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst StyledStratContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledEndContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledPrimaryBtn = styled(Button)`\r\n  span {\r\n    color: #188fff;\r\n  }\r\n`\r\nconst StyledDangerBtn = styled(Button)`\r\n  span {\r\n    color: #ff4d4f;\r\n  }\r\n`\r\n\r\nexport default DiaryFooter\r\n"]},"metadata":{},"sourceType":"module"}