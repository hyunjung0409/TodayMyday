{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\src\\\\components\\\\Main\\\\InfinityScoll.jsx\",\n    _s = $RefreshSig$();\n\nimport { Avatar, Divider, List, Skeleton, Tag } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { EyeFilled, HeartFilled, MessageFilled } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MainLook = styled.div`\n  margin-top: 5%;\n  background-color: pink;\n`;\n_c = MainLook;\nconst PAGE_NUMBER = 1;\n\nfunction InfinityScoll(props) {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [page, setPage] = useState(PAGE_NUMBER);\n\n  const loadMoreData = () => {\n    if (loading) {\n      return;\n    }\n\n    setLoading(true);\n    fetch(`http://k6c205.p.ssafy.io:8080/api/diary/paging?page=${page}`).then(res => res.json()).then(body => {\n      setData([...data, ...body.content]);\n      setPage(page + 1);\n      setLoading(false);\n    }).catch(() => {\n      setLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    loadMoreData();\n  }, []);\n\n  const viewSort = () => {\n    let tmp = [...data];\n    tmp.sort((a, b) => b.view - a.view);\n    setData(tmp);\n  };\n\n  const likedSort = () => {\n    let tmp = [...data];\n    tmp.sort((a, b) => b.liked - a.liked);\n    setData(tmp);\n  };\n\n  const createdatSort = () => {\n    let tmp = [...data];\n    tmp.sort((a, b) => new Date(b.createdat) - new Date(a.createdat));\n    setData(tmp);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MainLook, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'right'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tag, {\n          style: {\n            cursor: 'pointer'\n          },\n          color: \"magenta\",\n          onClick: createdatSort,\n          children: \"\\uCD5C\\uC2E0\\uC21C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tag, {\n          style: {\n            cursor: 'pointer'\n          },\n          color: \"green\",\n          onClick: viewSort,\n          children: \"\\uC870\\uD68C\\uC218\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tag, {\n          style: {\n            cursor: 'pointer'\n          },\n          color: \"purple\",\n          onClick: likedSort,\n          children: \"\\uC88B\\uC544\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"scrollableDiv\",\n        style: {\n          height: 400,\n          overflow: 'auto',\n          padding: '0 16px',\n          border: '1px solid rgba(140, 140, 140, 0.35)'\n        },\n        children: /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n          dataLength: data.length,\n          next: loadMoreData,\n          hasMore: data.length < 100,\n          loader: /*#__PURE__*/_jsxDEV(Skeleton, {\n            avatar: true,\n            paragraph: {\n              rows: 1\n            },\n            active: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this),\n          endMessage: /*#__PURE__*/_jsxDEV(Divider, {\n            plain: true,\n            children: \"It is all, nothing more \\uD83E\\uDD10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this),\n          scrollableTarget: \"scrollableDiv\",\n          children: /*#__PURE__*/_jsxDEV(List, {\n            dataSource: data,\n            renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '100%',\n                  height: '150px',\n                  display: 'flex'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image,\n                  alt: \"\",\n                  style: {\n                    flex: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 4\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      position: 'relative',\n                      top: '15px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      style: {\n                        fontSize: '30px',\n                        fontWeight: 'bold',\n                        marginBottom: '20px'\n                      },\n                      children: [\"#\", item.word]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: item.content.length >= 35 ? item.content.substr(0, 35) + '...' : item.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: item.createdat\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      position: 'relative',\n                      top: '25px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(HeartFilled, {\n                        style: {\n                          fontSize: '22px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 108,\n                        columnNumber: 27\n                      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: '22px'\n                        },\n                        children: item.liked\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 109,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(EyeFilled, {\n                        style: {\n                          fontSize: '22px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 27\n                      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: '22px'\n                        },\n                        children: item.view\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(MessageFilled, {\n                        style: {\n                          fontSize: '22px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 27\n                      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: '22px'\n                        },\n                        children: \"0\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 117,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this)\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(InfinityScoll, \"h/71kuGFSLjhhlTRsXBUr90lGWo=\");\n\n_c2 = InfinityScoll;\nexport default InfinityScoll;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MainLook\");\n$RefreshReg$(_c2, \"InfinityScoll\");","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Main/InfinityScoll.jsx"],"names":["Avatar","Divider","List","Skeleton","Tag","React","useEffect","useState","styled","InfiniteScroll","EyeFilled","HeartFilled","MessageFilled","MainLook","div","PAGE_NUMBER","InfinityScoll","props","loading","setLoading","data","setData","page","setPage","loadMoreData","fetch","then","res","json","body","content","catch","viewSort","tmp","sort","a","b","view","likedSort","liked","createdatSort","Date","createdat","textAlign","cursor","height","overflow","padding","border","length","rows","item","width","display","image","flex","position","top","fontSize","fontWeight","marginBottom","word","substr","id"],"mappings":"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","sourcesContent":["import { Avatar, Divider, List, Skeleton, Tag } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport InfiniteScroll from 'react-infinite-scroll-component'\r\nimport { EyeFilled, HeartFilled, MessageFilled } from '@ant-design/icons'\r\n\r\nconst MainLook = styled.div`\r\n  margin-top: 5%;\r\n  background-color: pink;\r\n`\r\nconst PAGE_NUMBER = 1\r\n\r\nfunction InfinityScoll(props) {\r\n  const [loading, setLoading] = useState(false)\r\n  const [data, setData] = useState([])\r\n  const [page, setPage] = useState(PAGE_NUMBER)\r\n\r\n  const loadMoreData = () => {\r\n    if (loading) {\r\n      return\r\n    }\r\n    setLoading(true)\r\n    fetch(`http://k6c205.p.ssafy.io:8080/api/diary/paging?page=${page}`)\r\n      .then((res) => res.json())\r\n      .then((body) => {\r\n        setData([...data, ...body.content])\r\n        setPage(page + 1)\r\n        setLoading(false)\r\n      })\r\n      .catch(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadMoreData()\r\n  }, [])\r\n\r\n  const viewSort = () => {\r\n    let tmp = [...data]\r\n    tmp.sort((a, b) => b.view - a.view)\r\n    setData(tmp)\r\n  }\r\n\r\n  const likedSort = () => {\r\n    let tmp = [...data]\r\n    tmp.sort((a, b) => b.liked - a.liked)\r\n    setData(tmp)\r\n  }\r\n\r\n  const createdatSort = () => {\r\n    let tmp = [...data]\r\n    tmp.sort((a, b) => new Date(b.createdat) - new Date(a.createdat))\r\n    setData(tmp)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MainLook>\r\n        <div style={{ textAlign: 'right' }}>\r\n          <Tag style={{ cursor: 'pointer' }} color=\"magenta\" onClick={createdatSort}>\r\n            최신순\r\n          </Tag>\r\n          <Tag style={{ cursor: 'pointer' }} color=\"green\" onClick={viewSort}>\r\n            조회수\r\n          </Tag>\r\n          <Tag style={{ cursor: 'pointer' }} color=\"purple\" onClick={likedSort}>\r\n            좋아요\r\n          </Tag>\r\n        </div>\r\n        <div\r\n          id=\"scrollableDiv\"\r\n          style={{\r\n            height: 400,\r\n            overflow: 'auto',\r\n            padding: '0 16px',\r\n            border: '1px solid rgba(140, 140, 140, 0.35)',\r\n          }}>\r\n          <InfiniteScroll\r\n            dataLength={data.length}\r\n            next={loadMoreData}\r\n            hasMore={data.length < 100}\r\n            loader={<Skeleton avatar paragraph={{ rows: 1 }} active />}\r\n            endMessage={<Divider plain>It is all, nothing more 🤐</Divider>}\r\n            scrollableTarget=\"scrollableDiv\">\r\n            <List\r\n              dataSource={data}\r\n              renderItem={(item) => (\r\n                <List.Item key={item.id}>\r\n                  <div style={{ width: '100%', height: '150px', display: 'flex' }}>\r\n                    <img src={item.image} alt=\"\" style={{ flex: 1 }} />\r\n                    <div style={{ flex: 4 }}>\r\n                      <div style={{ position: 'relative', top: '15px' }}>\r\n                        <h1 style={{ fontSize: '30px', fontWeight: 'bold', marginBottom: '20px' }}>\r\n                          #{item.word}\r\n                        </h1>\r\n                        <p>\r\n                          {item.content.length >= 35\r\n                            ? item.content.substr(0, 35) + '...'\r\n                            : item.content}\r\n                        </p>\r\n                        <div>{item.createdat}</div>\r\n                      </div>\r\n                    </div>\r\n                    <div style={{ flex: 1 }}>\r\n                      <div style={{ position: 'relative', top: '25px' }}>\r\n                        <div>\r\n                          <HeartFilled style={{ fontSize: '22px' }} />{' '}\r\n                          <span style={{ fontSize: '22px' }}>{item.liked}</span>\r\n                        </div>\r\n                        <div>\r\n                          <EyeFilled style={{ fontSize: '22px' }} />{' '}\r\n                          <span style={{ fontSize: '22px' }}>{item.view}</span>\r\n                        </div>\r\n                        <div>\r\n                          <MessageFilled style={{ fontSize: '22px' }} />{' '}\r\n                          <span style={{ fontSize: '22px' }}>0</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          </InfiniteScroll>\r\n        </div>\r\n      </MainLook>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default InfinityScoll\r\n"]},"metadata":{},"sourceType":"module"}