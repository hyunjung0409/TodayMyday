{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\src\\\\components\\\\Main\\\\InfinityScoll.jsx\",\n    _s = $RefreshSig$();\n\nimport { Avatar, Divider, List, Skeleton, Tag, Row, Col, Space } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { EyeFilled, HeartFilled, MessageFilled } from '@ant-design/icons';\nimport { getAxios } from '../../api';\nimport { useNavigate } from 'react-router-dom';\nimport '../Diary/Comment.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MainLook = styled.div`\n  margin-top: 1.5rem;\n  background-color: white;\n  border: 1px solid rgba(200, 200, 200, 0.5);\n  border-radius: 5px;\n`;\n_c = MainLook;\nconst ImageLayout = styled.div`\n  width: 15rem;\n  height: 10rem;\n  display: inline-block;\n  border-radius: 20px;\n  padding: 0.5rem 0;\n`;\n_c2 = ImageLayout;\nconst StyledImageArea = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 5px;\n`;\n_c3 = StyledImageArea;\nconst StyledFont = styled.h3`\n  font-family: 'Noto Sans Korean Medium';\n`;\n_c4 = StyledFont;\nconst StyledContent = styled.p`\n  font-family: 'GangwonEduSaeeum_OTFMediumA';\n  font-size: 20px;\n`;\n_c5 = StyledContent;\nconst StyledTitle = styled.h1`\n  font-family: 'GangwonEduSaeeum_OTFMediumA';\n  font-size: 25px;\n`;\n_c6 = StyledTitle;\nconst PAGE_NUMBER = 1;\n\nfunction InfinityScoll(props) {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [page, setPage] = useState(PAGE_NUMBER);\n  const axios = getAxios();\n  const navigate = useNavigate();\n  const max = Number.MAX_SAFE_INTEGER;\n\n  const loadMoreData = () => {\n    if (loading) {\n      return;\n    }\n\n    setLoading(true);\n    fetch(`http://k6c205.p.ssafy.io:8080/api/diary/paging?page=${page}`).then(res => res.json()).then(body => {\n      setData([...data, ...body.content]);\n      setPage(page + 1);\n      setLoading(false);\n    }).catch(() => {\n      setLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    loadMoreData();\n  }, []);\n\n  function timeForToday(value) {\n    let tData = new Date(value);\n    tData.setHours(tData.getHours() + 9);\n    const today = new Date();\n    const timeValue = new Date(tData);\n    const betweenTime = Math.floor((today.getTime() - timeValue.getTime()) / 1000 / 60);\n    if (betweenTime < 1) return '방금 전';\n\n    if (betweenTime < 60) {\n      return `${betweenTime}분 전`;\n    }\n\n    const betweenTimeHour = Math.floor(betweenTime / 60);\n\n    if (betweenTimeHour < 24) {\n      return `${betweenTimeHour}시간 전`;\n    }\n\n    const betweenTimeDay = Math.floor(betweenTime / 60 / 24);\n\n    if (betweenTimeDay < 8) {\n      return `${betweenTimeDay}일 전`;\n    }\n\n    return `${value}`;\n  }\n\n  const viewSort = () => {\n    let tmp = [...data];\n    tmp.sort((a, b) => b.view - a.view);\n    setData(tmp);\n  };\n\n  const likedSort = () => {\n    let tmp = [...data];\n    tmp.sort((a, b) => b.liked - a.liked);\n    setData(tmp);\n  };\n\n  const createdatSort = () => {\n    let tmp = [...data];\n    tmp.sort((a, b) => new Date(b.createdat) - new Date(a.createdat));\n    setData(tmp);\n  };\n\n  const pageMove = (dno, e) => {\n    axios.get('/diary/view', {\n      params: {\n        dno: dno\n      }\n    }).then(() => {\n      navigate(`/diary/read/${dno}`);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MainLook, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          span: 12,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '1rem 2rem',\n              textAlign: 'left'\n            },\n            children: /*#__PURE__*/_jsxDEV(StyledFont, {\n              style: {\n                margin: 0\n              },\n              children: \"\\uC804\\uCCB4 \\uAE00 \\uBCF4\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 12\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"scrollableDiv\",\n        style: {\n          height: '570px',\n          overflow: 'auto',\n          padding: '0 16px',\n          // border: '1px solid rgba(140, 140, 140, 0.35)',\n          border: '1px solid rgba(200, 200, 200, 0.35)'\n        },\n        children: /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n          dataLength: data.length,\n          next: loadMoreData,\n          hasMore: data.length < max,\n          loader: /*#__PURE__*/_jsxDEV(Skeleton, {\n            avatar: true,\n            paragraph: {\n              rows: 1\n            },\n            active: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 21\n          }, this),\n          endMessage: /*#__PURE__*/_jsxDEV(Divider, {\n            plain: true,\n            children: \"\\uB9C8\\uC9C0\\uB9C9 \\uAE00\\uC785\\uB2C8\\uB2E4 \\uD83E\\uDD10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this),\n          scrollableTarget: \"scrollableDiv\",\n          children: /*#__PURE__*/_jsxDEV(List, {\n            dataSource: data,\n            renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n              style: {\n                cursor: 'pointer'\n              },\n              onClick: e => {\n                pageMove(item.dno, e);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '100%',\n                  height: '160px',\n                  display: 'flex',\n                  justifyContent: 'space-evenly'\n                },\n                children: [/*#__PURE__*/_jsxDEV(ImageLayout, {\n                  children: /*#__PURE__*/_jsxDEV(StyledImageArea, {\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item.image,\n                      alt: \"content_image\",\n                      width: \"100%\",\n                      height: \"100%\",\n                      style: {\n                        objectFit: 'cover'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Space, {\n                  direction: \"vertical\",\n                  size: 1,\n                  style: {\n                    display: 'flex',\n                    justifyContent: 'center',\n                    width: '40rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(StyledTitle, {\n                    style: {\n                      fontWeight: 'bold'\n                    },\n                    children: [\"#\", item.word]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(StyledContent, {\n                    children: item.content.length >= 120 ? item.content.substr(0, 120) + '...' : item.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTime, {\n                    children: timeForToday(item.createdat)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Space, {\n                  direction: \"vertical\",\n                  size: 1,\n                  style: {\n                    display: 'flex',\n                    justifyContent: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginBottom: '10px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        width: '30px',\n                        height: '30px',\n                        borderRadius: '50%',\n                        marginRight: '10px'\n                      },\n                      src: item.profileImage,\n                      alt: \"profile\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: item.nickname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        marginRight: '10px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(HeartFilled, {\n                        style: {\n                          fontSize: '1rem'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 223,\n                        columnNumber: 27\n                      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: '1rem'\n                        },\n                        children: item.liked\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        marginRight: '10px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(EyeFilled, {\n                        style: {\n                          fontSize: '1rem'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 227,\n                        columnNumber: 27\n                      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: '1rem'\n                        },\n                        children: item.view\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [/*#__PURE__*/_jsxDEV(MessageFilled, {\n                        style: {\n                          fontSize: '1rem'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 27\n                      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: '1rem'\n                        },\n                        children: item.comments.length\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 232,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this)\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(InfinityScoll, \"Bi8LnzQDISfo8xLDIFMVhGGJp9Y=\", false, function () {\n  return [useNavigate];\n});\n\n_c7 = InfinityScoll;\nconst StyledFlexEnd = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  width: 5rem;\n  padding-right: 0.2rem;\n`;\nconst StyledFlexStart = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  width: 5rem;\n  padding-left: 0.2rem;\n`;\nconst StyledTime = styled.div`\n  font-size: 10px;\n`;\n_c8 = StyledTime;\nexport default InfinityScoll;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"MainLook\");\n$RefreshReg$(_c2, \"ImageLayout\");\n$RefreshReg$(_c3, \"StyledImageArea\");\n$RefreshReg$(_c4, \"StyledFont\");\n$RefreshReg$(_c5, \"StyledContent\");\n$RefreshReg$(_c6, \"StyledTitle\");\n$RefreshReg$(_c7, \"InfinityScoll\");\n$RefreshReg$(_c8, \"StyledTime\");","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Main/InfinityScoll.jsx"],"names":["Avatar","Divider","List","Skeleton","Tag","Row","Col","Space","React","useEffect","useState","styled","InfiniteScroll","EyeFilled","HeartFilled","MessageFilled","getAxios","useNavigate","MainLook","div","ImageLayout","StyledImageArea","StyledFont","h3","StyledContent","p","StyledTitle","h1","PAGE_NUMBER","InfinityScoll","props","loading","setLoading","data","setData","page","setPage","axios","navigate","max","Number","MAX_SAFE_INTEGER","loadMoreData","fetch","then","res","json","body","content","catch","timeForToday","value","tData","Date","setHours","getHours","today","timeValue","betweenTime","Math","floor","getTime","betweenTimeHour","betweenTimeDay","viewSort","tmp","sort","a","b","view","likedSort","liked","createdatSort","createdat","pageMove","dno","e","get","params","padding","textAlign","margin","height","overflow","border","length","rows","item","cursor","width","display","justifyContent","image","objectFit","fontWeight","word","substr","marginBottom","borderRadius","marginRight","profileImage","nickname","fontSize","comments","id","StyledFlexEnd","StyledFlexStart","StyledTime"],"mappings":"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","sourcesContent":["import { Avatar, Divider, List, Skeleton, Tag, Row, Col, Space } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport InfiniteScroll from 'react-infinite-scroll-component'\r\nimport { EyeFilled, HeartFilled, MessageFilled } from '@ant-design/icons'\r\nimport { getAxios } from '../../api'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport '../Diary/Comment.css'\r\n\r\nconst MainLook = styled.div`\r\n  margin-top: 1.5rem;\r\n  background-color: white;\r\n  border: 1px solid rgba(200, 200, 200, 0.5);\r\n  border-radius: 5px;\r\n`\r\nconst ImageLayout = styled.div`\r\n  width: 15rem;\r\n  height: 10rem;\r\n  display: inline-block;\r\n  border-radius: 20px;\r\n  padding: 0.5rem 0;\r\n`\r\n\r\nconst StyledImageArea = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  border-radius: 5px;\r\n`\r\n\r\nconst StyledFont = styled.h3`\r\n  font-family: 'Noto Sans Korean Medium';\r\n`\r\nconst StyledContent = styled.p`\r\n  font-family: 'GangwonEduSaeeum_OTFMediumA';\r\n  font-size: 20px;\r\n`\r\n\r\nconst StyledTitle = styled.h1`\r\n  font-family: 'GangwonEduSaeeum_OTFMediumA';\r\n  font-size: 25px;\r\n`\r\n\r\nconst PAGE_NUMBER = 1\r\n\r\nfunction InfinityScoll(props) {\r\n  const [loading, setLoading] = useState(false)\r\n  const [data, setData] = useState([])\r\n  const [page, setPage] = useState(PAGE_NUMBER)\r\n  const axios = getAxios()\r\n  const navigate = useNavigate()\r\n\r\n  const max = Number.MAX_SAFE_INTEGER\r\n\r\n  const loadMoreData = () => {\r\n    if (loading) {\r\n      return\r\n    }\r\n    setLoading(true)\r\n    fetch(`http://k6c205.p.ssafy.io:8080/api/diary/paging?page=${page}`)\r\n      .then((res) => res.json())\r\n      .then((body) => {\r\n        setData([...data, ...body.content])\r\n        setPage(page + 1)\r\n        setLoading(false)\r\n      })\r\n      .catch(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadMoreData()\r\n  }, [])\r\n\r\n  function timeForToday(value) {\r\n    let tData = new Date(value)\r\n    tData.setHours(tData.getHours() + 9)\r\n    const today = new Date()\r\n    const timeValue = new Date(tData)\r\n\r\n    const betweenTime = Math.floor((today.getTime() - timeValue.getTime()) / 1000 / 60)\r\n    if (betweenTime < 1) return '방금 전'\r\n    if (betweenTime < 60) {\r\n      return `${betweenTime}분 전`\r\n    }\r\n\r\n    const betweenTimeHour = Math.floor(betweenTime / 60)\r\n    if (betweenTimeHour < 24) {\r\n      return `${betweenTimeHour}시간 전`\r\n    }\r\n\r\n    const betweenTimeDay = Math.floor(betweenTime / 60 / 24)\r\n    if (betweenTimeDay < 8) {\r\n      return `${betweenTimeDay}일 전`\r\n    }\r\n\r\n    return `${value}`\r\n  }\r\n\r\n  const viewSort = () => {\r\n    let tmp = [...data]\r\n    tmp.sort((a, b) => b.view - a.view)\r\n    setData(tmp)\r\n  }\r\n\r\n  const likedSort = () => {\r\n    let tmp = [...data]\r\n    tmp.sort((a, b) => b.liked - a.liked)\r\n    setData(tmp)\r\n  }\r\n\r\n  const createdatSort = () => {\r\n    let tmp = [...data]\r\n    tmp.sort((a, b) => new Date(b.createdat) - new Date(a.createdat))\r\n    setData(tmp)\r\n  }\r\n\r\n  const pageMove = (dno, e) => {\r\n    axios.get('/diary/view', { params: { dno: dno } }).then(() => {\r\n      navigate(`/diary/read/${dno}`)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MainLook>\r\n        <Row>\r\n          <Col span={12}>\r\n            <div style={{ padding: '1rem 2rem', textAlign: 'left' }}>\r\n              <StyledFont style={{ margin: 0 }}>전체 글 보기</StyledFont>\r\n            </div>\r\n          </Col>\r\n          <Col span={12}>\r\n            {/* <div style={{ padding: '1rem', textAlign: 'right' }}>\r\n              <Tag style={{ cursor: 'pointer' }} color=\"magenta\" onClick={createdatSort}>\r\n                최신순\r\n              </Tag>\r\n              <Tag style={{ cursor: 'pointer' }} color=\"green\" onClick={viewSort}>\r\n                조회수\r\n              </Tag>\r\n              <Tag style={{ cursor: 'pointer' }} color=\"purple\" onClick={likedSort}>\r\n                좋아요\r\n              </Tag>\r\n            </div> */}\r\n          </Col>\r\n        </Row>\r\n        <div\r\n          id=\"scrollableDiv\"\r\n          style={{\r\n            height: '570px',\r\n            overflow: 'auto',\r\n            padding: '0 16px',\r\n            // border: '1px solid rgba(140, 140, 140, 0.35)',\r\n            border: '1px solid rgba(200, 200, 200, 0.35)',\r\n          }}>\r\n          <InfiniteScroll\r\n            dataLength={data.length}\r\n            next={loadMoreData}\r\n            hasMore={data.length < max}\r\n            loader={<Skeleton avatar paragraph={{ rows: 1 }} active />}\r\n            endMessage={<Divider plain>마지막 글입니다 🤐</Divider>}\r\n            scrollableTarget=\"scrollableDiv\">\r\n            <List\r\n              dataSource={data}\r\n              renderItem={(item) => (\r\n                <List.Item\r\n                  style={{ cursor: 'pointer' }}\r\n                  key={item.id}\r\n                  onClick={(e) => {\r\n                    pageMove(item.dno, e)\r\n                  }}>\r\n                  <div\r\n                    style={{\r\n                      width: '100%',\r\n                      height: '160px',\r\n                      display: 'flex',\r\n                      justifyContent: 'space-evenly',\r\n                    }}>\r\n                    <ImageLayout>\r\n                      <StyledImageArea>\r\n                        <img\r\n                          src={item.image}\r\n                          alt=\"content_image\"\r\n                          width=\"100%\"\r\n                          height=\"100%\"\r\n                          style={{ objectFit: 'cover' }}\r\n                        />\r\n                      </StyledImageArea>\r\n                    </ImageLayout>\r\n                    <Space\r\n                      direction=\"vertical\"\r\n                      size={1}\r\n                      style={{ display: 'flex', justifyContent: 'center', width: '40rem' }}>\r\n                      <StyledTitle style={{ fontWeight: 'bold' }}>#{item.word}</StyledTitle>\r\n                      <StyledContent>\r\n                        {item.content.length >= 120\r\n                          ? item.content.substr(0, 120) + '...'\r\n                          : item.content}\r\n                      </StyledContent>\r\n                      <StyledTime>{timeForToday(item.createdat)}</StyledTime>\r\n                    </Space>\r\n\r\n                    <Space\r\n                      direction=\"vertical\"\r\n                      size={1}\r\n                      style={{ display: 'flex', justifyContent: 'center' }}>\r\n                      <div style={{ marginBottom: '10px' }}>\r\n                        <img\r\n                          style={{\r\n                            width: '30px',\r\n                            height: '30px',\r\n                            borderRadius: '50%',\r\n                            marginRight: '10px',\r\n                          }}\r\n                          src={item.profileImage}\r\n                          alt=\"profile\"\r\n                        />\r\n                        <span>{item.nickname}</span>\r\n                      </div>\r\n                      <div>\r\n                        <span style={{ marginRight: '10px' }}>\r\n                          <HeartFilled style={{ fontSize: '1rem' }} />{' '}\r\n                          <span style={{ fontSize: '1rem' }}>{item.liked}</span>\r\n                        </span>\r\n                        <span style={{ marginRight: '10px' }}>\r\n                          <EyeFilled style={{ fontSize: '1rem' }} />{' '}\r\n                          <span style={{ fontSize: '1rem' }}>{item.view}</span>\r\n                        </span>\r\n                        <span>\r\n                          <MessageFilled style={{ fontSize: '1rem' }} />{' '}\r\n                          <span style={{ fontSize: '1rem' }}>{item.comments.length}</span>\r\n                        </span>\r\n                      </div>\r\n\r\n                      {/* <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                        <StyledFlexEnd>\r\n                          <HeartFilled style={{ fontSize: '1rem' }} />\r\n                        </StyledFlexEnd>\r\n                        <StyledFlexStart>\r\n                          <span style={{ fontSize: '1rem' }}>{item.liked}</span>\r\n                        </StyledFlexStart>\r\n                      </div>\r\n                      <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                        <StyledFlexEnd>\r\n                          <EyeFilled style={{ fontSize: '1rem' }} />\r\n                        </StyledFlexEnd>\r\n                        <StyledFlexStart>\r\n                          <span style={{ fontSize: '1rem' }}>{item.view}</span>\r\n                        </StyledFlexStart>\r\n                      </div>\r\n                      <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                        <StyledFlexEnd>\r\n                          <MessageFilled style={{ fontSize: '1rem' }} />\r\n                        </StyledFlexEnd>\r\n                        <StyledFlexStart>\r\n                          <span style={{ fontSize: '1rem' }}>{item.comments.length}</span>\r\n                        </StyledFlexStart>\r\n                      </div> */}\r\n                    </Space>\r\n                  </div>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          </InfiniteScroll>\r\n        </div>\r\n      </MainLook>\r\n    </>\r\n  )\r\n}\r\n\r\nconst StyledFlexEnd = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  width: 5rem;\r\n  padding-right: 0.2rem;\r\n`\r\n\r\nconst StyledFlexStart = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  width: 5rem;\r\n  padding-left: 0.2rem;\r\n`\r\nconst StyledTime = styled.div`\r\n  font-size: 10px;\r\n`\r\nexport default InfinityScoll\r\n"]},"metadata":{},"sourceType":"module"}