{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useEffect,useState}from'react';import{Layout,Typography,Row,Col,Menu,Dropdown,Space,Avatar}from'antd';import{DownOutlined,UserOutlined}from'@ant-design/icons';import styled from'styled-components';import{Link,useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{loadUserRequestAction,logoutRequestAction}from'../../reducers/user';import jwt_decode from'jwt-decode';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=Layout.Header;var Title=Typography.Title;function Navbar(){var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.user;}),me=_useSelector.me;var dispatch=useDispatch();var onLogOut=function onLogOut(){console.log('logout');dispatch(logoutRequestAction({navigate:navigate}));};var menu=/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Menu,{children:[/*#__PURE__*/_jsx(Menu.Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/my/profile\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"})})}),/*#__PURE__*/_jsx(Menu.Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/my/articleList\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uB0B4 \\uAE00 \\uBAA9\\uB85D\"})})}),/*#__PURE__*/_jsx(Menu.Item,{children:/*#__PURE__*/_jsx(\"p\",{onClick:onLogOut,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})})]})});useEffect(function(){if(localStorage.getItem('jwtToken')!=null){var decode_token=jwt_decode(localStorage.getItem('jwtToken'));var userId=decode_token.sub;dispatch(loadUserRequestAction({userId:userId}));}},[]);return/*#__PURE__*/_jsx(Header,{style:{position:'fixed',zIndex:1,width:'100%',background:'#C1E17D'},children:/*#__PURE__*/_jsxs(Row,{justify:\"start\",children:[/*#__PURE__*/_jsx(Col,{span:4,children:/*#__PURE__*/_jsx(Space,{align:\"center\",children:/*#__PURE__*/_jsx(StyledTitle,{level:5,onClick:function onClick(){return navigate('/');},children:\"\\uC9C0\\uAE08 \\uB098\\uC758 \\uD558\\uB8E8\\uB294\"})})}),/*#__PURE__*/_jsx(Col,{span:16,children:/*#__PURE__*/_jsx(Space,{align:\"center\",children:me&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledLink,{to:\"/main\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\uAE00 \\uC791\\uC131\"})}),/*#__PURE__*/_jsx(StyledLink,{to:\"/search\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\uB458\\uB7EC\\uBCF4\\uAE30\"})})]})})}),/*#__PURE__*/_jsx(Col,{span:4,children:me?/*#__PURE__*/_jsxs(Space,{align:\"center\",size:\"middle\",children:[/*#__PURE__*/_jsx(Avatar,{icon:me.image===undefined?/*#__PURE__*/_jsx(UserOutlined,{}):/*#__PURE__*/_jsx(\"img\",{src:me.image})}),/*#__PURE__*/_jsx(Dropdown,{overlay:menu,trigger:['click'],children:/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(e){return e.preventDefault();},children:/*#__PURE__*/_jsxs(Space,{children:[me.userId,/*#__PURE__*/_jsx(DownOutlined,{})]})})})]}):/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-user\",children:[/*#__PURE__*/_jsx(StyledLink,{to:\"/user/login\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\uB85C\\uADF8\\uC778\"})}),/*#__PURE__*/_jsx(StyledLink,{to:\"/user/signup\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})})]})})]})});}var StyledTitle=styled(Title)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  margin: 1.2rem 1rem 1rem 1rem;\\n  background: rgba(255, 255, 255, 0.3);\\n\"])));var StyledLink=styled(Link)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  color: #38532e;\\n  padding: 0 1rem;\\n\"])));export default Navbar;","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Layout/Navbar.jsx"],"names":["React","useEffect","useState","Layout","Typography","Row","Col","Menu","Dropdown","Space","Avatar","DownOutlined","UserOutlined","styled","Link","useNavigate","useDispatch","useSelector","loadUserRequestAction","logoutRequestAction","jwt_decode","Header","Title","Navbar","navigate","state","user","me","dispatch","onLogOut","console","log","menu","localStorage","getItem","decode_token","userId","sub","position","zIndex","width","background","image","undefined","e","preventDefault","StyledTitle","StyledLink"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Layout, Typography, Row, Col, Menu, Dropdown, Space, Avatar } from 'antd'\r\nimport { DownOutlined, UserOutlined } from '@ant-design/icons'\r\nimport styled from 'styled-components'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { loadUserRequestAction, logoutRequestAction } from '../../reducers/user'\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nconst { Header } = Layout\r\nconst { Title } = Typography\r\n\r\nfunction Navbar() {\r\n  const navigate = useNavigate()\r\n  const { me } = useSelector((state) => state.user)\r\n  const dispatch = useDispatch()\r\n\r\n  const onLogOut = () => {\r\n    console.log('logout')\r\n    dispatch(logoutRequestAction({ navigate }))\r\n  }\r\n\r\n  const menu = (\r\n    <>\r\n      <Menu>\r\n        <Menu.Item>\r\n          <Link to=\"/my/profile\">\r\n            <p>마이페이지</p>\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <Link to=\"/my/articleList\">\r\n            <p>내 글 목록</p>\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <p onClick={onLogOut}>로그아웃</p>\r\n        </Menu.Item>\r\n      </Menu>\r\n    </>\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('jwtToken') != null) {\r\n      const decode_token = jwt_decode(localStorage.getItem('jwtToken'))\r\n      const userId = decode_token.sub\r\n      dispatch(loadUserRequestAction({ userId }))\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%', background: '#C1E17D' }}>\r\n      <Row justify=\"start\">\r\n        <Col span={4}>\r\n          <Space align=\"center\">\r\n            <StyledTitle level={5} onClick={() => navigate('/')}>\r\n              지금 나의 하루는\r\n            </StyledTitle>\r\n          </Space>\r\n        </Col>\r\n        <Col span={16}>\r\n          <Space align=\"center\">\r\n            {me && (\r\n              <>\r\n                <StyledLink to=\"/main\">\r\n                  <strong>글 작성</strong>\r\n                </StyledLink>\r\n                <StyledLink to=\"/search\">\r\n                  <strong>둘러보기</strong>\r\n                </StyledLink>\r\n              </>\r\n            )}\r\n          </Space>\r\n        </Col>\r\n\r\n        <Col span={4}>\r\n          {me ? (\r\n            <Space align=\"center\" size=\"middle\">\r\n              <Avatar\r\n                icon={me.image === undefined ? <UserOutlined /> : <img src={me.image}></img>}\r\n              />\r\n              <Dropdown overlay={menu} trigger={['click']}>\r\n                <a onClick={(e) => e.preventDefault()}>\r\n                  <Space>\r\n                    {me.userId}\r\n                    <DownOutlined />\r\n                  </Space>\r\n                </a>\r\n              </Dropdown>\r\n            </Space>\r\n          ) : (\r\n            <nav className=\"nav-user\">\r\n              <StyledLink to=\"/user/login\">\r\n                <strong>로그인</strong>\r\n              </StyledLink>\r\n              <StyledLink to=\"/user/signup\">\r\n                <strong>회원가입</strong>\r\n              </StyledLink>\r\n            </nav>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </Header>\r\n  )\r\n}\r\n\r\nconst StyledTitle = styled(Title)`\r\n  text-align: center;\r\n  margin: 1.2rem 1rem 1rem 1rem;\r\n  background: rgba(255, 255, 255, 0.3);\r\n`\r\n\r\nconst StyledLink = styled(Link)`\r\n  color: #38532e;\r\n  padding: 0 1rem;\r\n`\r\n\r\nexport default Navbar\r\n"]},"metadata":{},"sourceType":"module"}