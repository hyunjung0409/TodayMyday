{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\src\\\\components\\\\Detail\\\\DiaryFooter.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Row, Col, Button, Space, Modal } from 'antd';\nimport styled from 'styled-components';\nimport { getAxios } from '../../api';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst axios = getAxios();\n\nfunction DiaryFooter(_ref) {\n  _s();\n\n  let {\n    diary,\n    dno\n  } = _ref;\n  const {\n    me\n  } = useSelector(state => state.user);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const navigate = useNavigate();\n\n  const handleModify = () => {\n    navigate(`/diary/modify/${dno}`);\n  };\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n    deleteDiary();\n    Modal.success({\n      content: '글 삭제가 완료되었습니다.',\n      okText: '확인',\n      onOk: handleMove\n    });\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const deleteDiary = async () => {\n    await axios.delete(`diary/${dno}`, {\n      params: {\n        dno: dno,\n        userId: me.userId\n      }\n    });\n  };\n\n  const handleMove = () => {\n    navigate('/my/articleList');\n  };\n\n  const myList = e => {\n    if (me.nickname === diary.nickname) {\n      return /*#__PURE__*/_jsxDEV(StyledPrimaryBtn, {\n        onClick: handleMove,\n        children: \"\\uB0B4 \\uAE00 \\uBAA9\\uB85D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 14\n      }, this);\n    } else {\n      return null;\n    }\n  };\n\n  const myBtn = e => {\n    if (me.nickname === diary.nickname) {\n      return /*#__PURE__*/_jsxDEV(Space, {\n        size: \"middle\",\n        children: [/*#__PURE__*/_jsxDEV(StyledPrimaryBtn, {\n          onClick: handleModify,\n          children: \"\\uC218\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledDangerBtn, {\n          onClick: showModal,\n          children: \"\\uC0AD\\uC81C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this);\n    } else {\n      return null;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Row, {\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      span: 12,\n      children: /*#__PURE__*/_jsxDEV(StyledStratContainer, {\n        children: me !== null && myList()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      span: 12,\n      children: [/*#__PURE__*/_jsxDEV(StyledEndContainer, {\n        children: me !== null && myBtn()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"\\uAE00 \\uC0AD\\uC81C\",\n        visible: isModalVisible,\n        onOk: handleOk,\n        onCancel: handleCancel,\n        okText: \"\\uD655\\uC778\",\n        cancelText: \"\\uCDE8\\uC18C\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD574\\uB2F9 \\uAE00\\uC744 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DiaryFooter, \"UJXkc4EdeNC0zgf6P9TZDkU3PTM=\", false, function () {\n  return [useSelector, useNavigate];\n});\n\n_c = DiaryFooter;\nconst StyledStratContainer = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n`;\n_c2 = StyledStratContainer;\nconst StyledEndContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\n_c3 = StyledEndContainer;\nconst StyledPrimaryBtn = styled(Button)`\n  &&& {\n    background: #fafafa;\n    border-color: #f0f0f0;\n    color: #e86f8b;\n  }\n`;\n_c4 = StyledPrimaryBtn;\nconst StyledDangerBtn = styled(Button)`\n  &&& {\n    background: #e86f8b;\n    border-color: #e86f8b;\n    color: #fff;\n  }\n`;\n_c5 = StyledDangerBtn;\nexport default DiaryFooter;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"DiaryFooter\");\n$RefreshReg$(_c2, \"StyledStratContainer\");\n$RefreshReg$(_c3, \"StyledEndContainer\");\n$RefreshReg$(_c4, \"StyledPrimaryBtn\");\n$RefreshReg$(_c5, \"StyledDangerBtn\");","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Detail/DiaryFooter.jsx"],"names":["React","useState","Row","Col","Button","Space","Modal","styled","getAxios","useNavigate","useSelector","axios","DiaryFooter","diary","dno","me","state","user","isModalVisible","setIsModalVisible","navigate","handleModify","showModal","handleOk","deleteDiary","success","content","okText","onOk","handleMove","handleCancel","delete","params","userId","myList","e","nickname","myBtn","StyledStratContainer","div","StyledEndContainer","StyledPrimaryBtn","StyledDangerBtn"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Row, Col, Button, Space, Modal } from 'antd'\r\nimport styled from 'styled-components'\r\nimport { getAxios } from '../../api'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst axios = getAxios()\r\n\r\nfunction DiaryFooter({ diary, dno }) {\r\n  const { me } = useSelector((state) => state.user)\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const handleModify = () => {\r\n    navigate(`/diary/modify/${dno}`)\r\n  }\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true)\r\n  }\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false)\r\n    deleteDiary()\r\n    Modal.success({\r\n      content: '글 삭제가 완료되었습니다.',\r\n      okText: '확인',\r\n      onOk: handleMove,\r\n    })\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false)\r\n  }\r\n\r\n  const deleteDiary = async () => {\r\n    await axios.delete(`diary/${dno}`, {\r\n      params: { dno: dno, userId: me.userId },\r\n    })\r\n  }\r\n\r\n  const handleMove = () => {\r\n    navigate('/my/articleList')\r\n  }\r\n\r\n  const myList = (e) => {\r\n    if (me.nickname === diary.nickname) {\r\n      return <StyledPrimaryBtn onClick={handleMove}>내 글 목록</StyledPrimaryBtn>\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  const myBtn = (e) => {\r\n    if (me.nickname === diary.nickname) {\r\n      return (\r\n        <Space size=\"middle\">\r\n          {/* <StyledPrimaryBtn type=\"text\" onClick={handleModify}>\r\n            수정\r\n          </StyledPrimaryBtn>\r\n          <StyledDangerBtn type=\"text\" onClick={showModal}>\r\n            삭제\r\n          </StyledDangerBtn> */}\r\n          <StyledPrimaryBtn onClick={handleModify}>수정</StyledPrimaryBtn>\r\n          <StyledDangerBtn onClick={showModal}>삭제</StyledDangerBtn>\r\n        </Space>\r\n      )\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col span={12}>\r\n        <StyledStratContainer>{me !== null && myList()}</StyledStratContainer>\r\n      </Col>\r\n      <Col span={12}>\r\n        <StyledEndContainer>{me !== null && myBtn()}</StyledEndContainer>\r\n        <Modal\r\n          title=\"글 삭제\"\r\n          visible={isModalVisible}\r\n          onOk={handleOk}\r\n          onCancel={handleCancel}\r\n          okText=\"확인\"\r\n          cancelText=\"취소\">\r\n          <p>해당 글을 삭제하시겠습니까?</p>\r\n        </Modal>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst StyledStratContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledEndContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledPrimaryBtn = styled(Button)`\r\n  &&& {\r\n    background: #fafafa;\r\n    border-color: #f0f0f0;\r\n    color: #e86f8b;\r\n  }\r\n`\r\nconst StyledDangerBtn = styled(Button)`\r\n  &&& {\r\n    background: #e86f8b;\r\n    border-color: #e86f8b;\r\n    color: #fff;\r\n  }\r\n`\r\n\r\nexport default DiaryFooter\r\n"]},"metadata":{},"sourceType":"module"}