{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\src\\\\components\\\\Profile\\\\MyPicture.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport { EditOutlined } from '@ant-design/icons';\nimport { getAxios } from '../../api';\nimport ImageFileInput from '../ImageFileInput';\nimport './MyPicture.css'; // const MyPic = styled.div`\n//   margin-left: auto;\n//   margin-right: auto;\n//   width: 250px;\n//   height: 250px;\n//   border-radius: 50%;\n//   border: solid;\n//   overflow: hidden;\n//   position: relative;\n// `\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MyPicture(_ref) {\n  _s();\n\n  let {\n    imageUploader,\n    form\n  } = _ref;\n  const [file2, setFile2] = useState({\n    fileName: null,\n    fileURL: null\n  });\n\n  const onFileChange = file2 => {\n    setFile2({\n      fileName: file2.name,\n      fileURL: file2.url\n    });\n  };\n\n  const formRef = useRef();\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const data = {\n      id: Date.now(),\n      // uuid\n      fileName: file2.fileName || '',\n      fileURL: file2.fileURL || ''\n    };\n    formRef.current.reset();\n    console.log(data);\n  };\n\n  let [file, setFiles] = useState('');\n\n  const onLoadFile = e => {\n    const file = e.target.files[0];\n    setFiles(file);\n  };\n\n  console.log(file2);\n\n  const preview = () => {\n    let profile_image = null;\n    const imgEl = document.querySelector('.img__box');\n    const reader = new FileReader();\n\n    if (file !== '') {\n      profile_image = /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"profile_image\",\n        src: file\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 23\n      }, this);\n    }\n\n    reader.onload = () => imgEl.style.backgroundImage = `url(${reader.result})`;\n\n    reader.readAsDataURL(file);\n  };\n\n  console.log(file);\n  const imageInput = useRef();\n\n  const onClickImageUpload = () => {\n    imageInput.current.click();\n  }; // const axios = getAxios()\n  // const getPic = async () => {\n  //   await axios.get(`/api/user/read/{userId}`, {\n  //     pic: image,\n  //   })\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"MyPic\",\n      children: /*#__PURE__*/_jsxDEV(ImageFileInput, {\n        name: file2.fileName,\n        imageUploader: imageUploader,\n        onFileChange: onFileChange,\n        file: file2,\n        form: form,\n        setFile: setFile2,\n        className: \"profileImage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), ' ', /*#__PURE__*/_jsxDEV(EditOutlined, {\n      onClick: onClickImageUpload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyPicture, \"vDVSIYZ/yCr/9HzNLw1UnPIZ89M=\");\n\n_c = MyPicture;\nexport default MyPicture;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyPicture\");","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Profile/MyPicture.jsx"],"names":["React","useState","useRef","styled","EditOutlined","getAxios","ImageFileInput","MyPicture","imageUploader","form","file2","setFile2","fileName","fileURL","onFileChange","name","url","formRef","onSubmit","event","preventDefault","data","id","Date","now","current","reset","console","log","file","setFiles","onLoadFile","e","target","files","preview","profile_image","imgEl","document","querySelector","reader","FileReader","onload","style","backgroundImage","result","readAsDataURL","imageInput","onClickImageUpload","click"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport styled from 'styled-components'\r\nimport { EditOutlined } from '@ant-design/icons'\r\nimport { getAxios } from '../../api'\r\nimport ImageFileInput from '../ImageFileInput'\r\nimport './MyPicture.css'\r\n// const MyPic = styled.div`\r\n//   margin-left: auto;\r\n//   margin-right: auto;\r\n//   width: 250px;\r\n//   height: 250px;\r\n//   border-radius: 50%;\r\n//   border: solid;\r\n//   overflow: hidden;\r\n//   position: relative;\r\n// `\r\nfunction MyPicture({ imageUploader, form }) {\r\n  const [file2, setFile2] = useState({ fileName: null, fileURL: null })\r\n  const onFileChange = (file2) => {\r\n    setFile2({\r\n      fileName: file2.name,\r\n      fileURL: file2.url,\r\n    })\r\n  }\r\n  const formRef = useRef()\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault()\r\n    const data = {\r\n      id: Date.now(), // uuid\r\n      fileName: file2.fileName || '',\r\n      fileURL: file2.fileURL || '',\r\n    }\r\n    formRef.current.reset()\r\n    console.log(data)\r\n  }\r\n  let [file, setFiles] = useState('')\r\n  const onLoadFile = (e) => {\r\n    const file = e.target.files[0]\r\n    setFiles(file)\r\n  }\r\n  console.log(file2)\r\n  const preview = () => {\r\n    let profile_image = null\r\n    const imgEl = document.querySelector('.img__box')\r\n    const reader = new FileReader()\r\n    if (file !== '') {\r\n      profile_image = <img className=\"profile_image\" src={file}></img>\r\n    }\r\n    reader.onload = () => (imgEl.style.backgroundImage = `url(${reader.result})`)\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  console.log(file)\r\n  const imageInput = useRef()\r\n  const onClickImageUpload = () => {\r\n    imageInput.current.click()\r\n  }\r\n\r\n  // const axios = getAxios()\r\n\r\n  // const getPic = async () => {\r\n  //   await axios.get(`/api/user/read/{userId}`, {\r\n  //     pic: image,\r\n  //   })\r\n  // }\r\n  return (\r\n    <div>\r\n      <div className=\"MyPic\">\r\n        <ImageFileInput\r\n          name={file2.fileName}\r\n          imageUploader={imageUploader}\r\n          onFileChange={onFileChange}\r\n          file={file2}\r\n          form={form}\r\n          setFile={setFile2}\r\n          className=\"profileImage\"\r\n        />\r\n      </div>{' '}\r\n      <EditOutlined onClick={onClickImageUpload}></EditOutlined>\r\n    </div>\r\n  )\r\n}\r\nexport default MyPicture\r\n"]},"metadata":{},"sourceType":"module"}