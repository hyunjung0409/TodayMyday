{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\src\\\\components\\\\Profile\\\\MyPicture.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { ConsoleSqlOutlined, EditOutlined } from '@ant-design/icons';\nimport { getAxios } from '../../api';\nimport ImageFileInput from '../ImageFileInput';\nimport './MyPicture.css';\nimport { useSelector } from 'react-redux';\nimport { Form, Button, Modal, Avatar } from 'antd';\nimport { DownOutlined, UserOutlined } from '@ant-design/icons'; // const MyPic = styled.div`\n//   margin-left: auto;\n//   margin-right: auto;\n//   width: 250px;\n//   height: 250px;\n//   border-radius: 50%;\n//   border: solid;\n//   overflow: hidden;\n//   position: relative;\n// `\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Submit = styled(Button)`\n  margin-top: 10px;\n`;\n\nfunction MyPicture(_ref) {\n  _s();\n\n  let {\n    imageUploader,\n    data\n  } = _ref;\n  const {\n    me\n  } = useSelector(state => state.user);\n  const [form] = Form.useForm();\n  const axios = getAxios();\n  const [file2, setFile2] = useState({\n    fileName: null,\n    fileURL: null\n  });\n  const formRef = useRef();\n\n  const onFileChange = file2 => {\n    setFile2({\n      fileName: file2.name,\n      fileURL: file2.url\n    });\n  };\n\n  const onFinish = async values => {\n    const axios = getAxios();\n    me !== null && me.userId !== null && (await axios.put('user/modify', {\n      image: file2.fileURL,\n      age: me.age,\n      gender: me.gender\n    }, // { age: values.ageRange },\n    {\n      params: {\n        userId: me.userId\n      }\n    } // userId: me.userId,\n    // values.ageRange,\n    ).then(res => {\n      dispatch(loadUserRequestAction({\n        userId\n      }));\n    }));\n  };\n\n  const success = () => {\n    Modal.success({\n      content: '회원정보 수정이 완료되었습니다.' // onOk: handleMove,\n\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      name: \"modify\",\n      onFinish: onFinish,\n      autoComplete: \"off\",\n      layout: \"vertical\",\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        size: 260,\n        icon: /*#__PURE__*/_jsxDEV(Form.Item, {\n          children: /*#__PURE__*/_jsxDEV(ImageFileInput, {\n            name: file2.fileName,\n            imageUploader: imageUploader,\n            onFileChange: onFileChange,\n            file: file2 // form={form}\n            ,\n            data: data,\n            setFile: setFile2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          onClick: success,\n          children: \"\\uB4F1\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyPicture, \"YahNys0nzXNh0ne3D8BMYrXi0S0=\", false, function () {\n  return [useSelector, Form.useForm];\n});\n\n_c = MyPicture;\nexport default MyPicture;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyPicture\");","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Profile/MyPicture.jsx"],"names":["React","useState","useRef","useEffect","styled","ConsoleSqlOutlined","EditOutlined","getAxios","ImageFileInput","useSelector","Form","Button","Modal","Avatar","DownOutlined","UserOutlined","Submit","MyPicture","imageUploader","data","me","state","user","form","useForm","axios","file2","setFile2","fileName","fileURL","formRef","onFileChange","name","url","onFinish","values","userId","put","image","age","gender","params","then","res","dispatch","loadUserRequestAction","success","content"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { ConsoleSqlOutlined, EditOutlined } from '@ant-design/icons'\r\nimport { getAxios } from '../../api'\r\nimport ImageFileInput from '../ImageFileInput'\r\nimport './MyPicture.css'\r\nimport { useSelector } from 'react-redux'\r\nimport { Form, Button, Modal, Avatar } from 'antd'\r\nimport { DownOutlined, UserOutlined } from '@ant-design/icons'\r\n\r\n// const MyPic = styled.div`\r\n//   margin-left: auto;\r\n//   margin-right: auto;\r\n//   width: 250px;\r\n//   height: 250px;\r\n//   border-radius: 50%;\r\n//   border: solid;\r\n//   overflow: hidden;\r\n//   position: relative;\r\n// `\r\nconst Submit = styled(Button)`\r\n  margin-top: 10px;\r\n`\r\nfunction MyPicture({ imageUploader, data }) {\r\n  const { me } = useSelector((state) => state.user)\r\n  const [form] = Form.useForm()\r\n  const axios = getAxios()\r\n\r\n  const [file2, setFile2] = useState({ fileName: null, fileURL: null })\r\n  const formRef = useRef()\r\n\r\n  const onFileChange = (file2) => {\r\n    setFile2({\r\n      fileName: file2.name,\r\n      fileURL: file2.url,\r\n    })\r\n  }\r\n\r\n  const onFinish = async (values) => {\r\n    const axios = getAxios()\r\n    me !== null &&\r\n      me.userId !== null &&\r\n      (await axios\r\n        .put(\r\n          'user/modify',\r\n          { image: file2.fileURL, age: me.age, gender: me.gender },\r\n          // { age: values.ageRange },\r\n\r\n          { params: { userId: me.userId } },\r\n          // userId: me.userId,\r\n          // values.ageRange,\r\n        )\r\n        .then((res) => {\r\n          dispatch(loadUserRequestAction({ userId }))\r\n        }))\r\n  }\r\n  const success = () => {\r\n    Modal.success({\r\n      content: '회원정보 수정이 완료되었습니다.',\r\n      // onOk: handleMove,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Form form={form} name=\"modify\" onFinish={onFinish} autoComplete=\"off\" layout=\"vertical\">\r\n        <Avatar\r\n          size={260}\r\n          icon={\r\n            <Form.Item>\r\n              <ImageFileInput\r\n                name={file2.fileName}\r\n                imageUploader={imageUploader}\r\n                onFileChange={onFileChange}\r\n                file={file2}\r\n                // form={form}\r\n                data={data}\r\n                setFile={setFile2}\r\n              />\r\n            </Form.Item>\r\n          }\r\n        />\r\n\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" onClick={success}>\r\n            등록\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n      {/* <EditOutlined onClick={onClickImageUpload}></EditOutlined> */}\r\n    </div>\r\n  )\r\n}\r\nexport default MyPicture\r\n"]},"metadata":{},"sourceType":"module"}