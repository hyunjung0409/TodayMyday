{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Spin}from'antd';import React,{useRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ImageFileInput(_ref){var imageUploader=_ref.imageUploader,onFileChange=_ref.onFileChange,file=_ref.file,data=_ref.data;var inputRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var fileURL=data.fileURL;var onButtonClick=function onButtonClick(e){e.preventDefault();inputRef.current.click();};var onChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var uploaded;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.t0=e.target.files[0]!==undefined;if(!_context.t0){_context.next=6;break;}_context.next=5;return imageUploader.upload(e.target.files[0]);case 5:_context.t0=_context.sent;case 6:uploaded=_context.t0;setLoading(false);onFileChange({name:uploaded.original_filename,url:uploaded.url});case 9:case\"end\":return _context.stop();}}},_callee);}));return function onChange(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{style:{display:'none'},ref:inputRef,type:\"file\",accept:\"image/*\",name:\"file\",onChange:onChange}),!loading&&/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'#ffff',border:'none',cursor:'pointer'},onClick:onButtonClick,children:/*#__PURE__*/_jsx(\"img\",{src:file.fileURL||fileURL,alt:\"img\",width:\"100%\"})}),loading&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Spin,{size:\"large\",tip:\"Loading...\"}),\",\"]})]});}export default ImageFileInput;","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/ImageFileInput.jsx"],"names":["Spin","React","useRef","useState","ImageFileInput","imageUploader","onFileChange","file","data","inputRef","loading","setLoading","fileURL","onButtonClick","e","preventDefault","current","click","onChange","target","files","undefined","upload","uploaded","name","original_filename","url","display","backgroundColor","border","cursor"],"mappings":"icAAA,OAASA,IAAT,KAAqB,MAArB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,KAAwC,OAAxC,C,wFAEA,QAASC,CAAAA,cAAT,MAAqE,IAA3CC,CAAAA,aAA2C,MAA3CA,aAA2C,CAA5BC,YAA4B,MAA5BA,YAA4B,CAAdC,IAAc,MAAdA,IAAc,CAARC,IAAQ,MAARA,IAAQ,CACnE,GAAMC,CAAAA,QAAQ,CAAGP,MAAM,EAAvB,CACA,cAA8BC,QAAQ,CAAC,KAAD,CAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eACA,GAAQC,CAAAA,OAAR,CAAoBJ,IAApB,CAAQI,OAAR,CACA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACAN,QAAQ,CAACO,OAAT,CAAiBC,KAAjB,GACD,CAHD,CAKA,GAAMC,CAAAA,QAAQ,2FAAG,iBAAOJ,CAAP,+HACfH,UAAU,CAAC,IAAD,CAAV,CADe,YAGbG,CAAC,CAACK,MAAF,CAASC,KAAT,CAAe,CAAf,IAAsBC,SAHT,+DAG6BhB,CAAAA,aAAa,CAACiB,MAAd,CAAqBR,CAAC,CAACK,MAAF,CAASC,KAAT,CAAe,CAAf,CAArB,CAH7B,yCAETG,QAFS,aAIfZ,UAAU,CAAC,KAAD,CAAV,CACAL,YAAY,CAAC,CACXkB,IAAI,CAAED,QAAQ,CAACE,iBADJ,CAEXC,GAAG,CAAEH,QAAQ,CAACG,GAFH,CAAD,CAAZ,CALe,sDAAH,kBAARR,CAAAA,QAAQ,6CAAd,CAWA,mBACE,oCACE,cACE,KAAK,CAAE,CAAES,OAAO,CAAE,MAAX,CADT,CAEE,GAAG,CAAElB,QAFP,CAGE,IAAI,CAAC,MAHP,CAIE,MAAM,CAAC,SAJT,CAKE,IAAI,CAAC,MALP,CAME,QAAQ,CAAES,QANZ,EADF,CAUG,CAACR,OAAD,eACC,eACE,KAAK,CAAE,CAAEkB,eAAe,CAAE,OAAnB,CAA4BC,MAAM,CAAE,MAApC,CAA4CC,MAAM,CAAE,SAApD,CADT,CAEE,OAAO,CAAEjB,aAFX,uBAGE,YAAK,GAAG,CAAEN,IAAI,CAACK,OAAL,EAAgBA,OAA1B,CAAmC,GAAG,CAAC,KAAvC,CAA6C,KAAK,CAAC,MAAnD,EAHF,EAXJ,CAiBGF,OAAO,eACN,oCACE,KAAC,IAAD,EAAM,IAAI,CAAC,OAAX,CAAmB,GAAG,CAAC,YAAvB,EADF,OAlBJ,GADF,CAyBD,CAED,cAAeN,CAAAA,cAAf","sourcesContent":["import { Spin } from 'antd'\r\nimport React, { useRef, useState } from 'react'\r\n\r\nfunction ImageFileInput({ imageUploader, onFileChange, file, data }) {\r\n  const inputRef = useRef()\r\n  const [loading, setLoading] = useState(false)\r\n  const { fileURL } = data\r\n  const onButtonClick = (e) => {\r\n    e.preventDefault()\r\n    inputRef.current.click()\r\n  }\r\n\r\n  const onChange = async (e) => {\r\n    setLoading(true)\r\n    const uploaded =\r\n      e.target.files[0] !== undefined && (await imageUploader.upload(e.target.files[0]))\r\n    setLoading(false)\r\n    onFileChange({\r\n      name: uploaded.original_filename,\r\n      url: uploaded.url,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        style={{ display: 'none' }}\r\n        ref={inputRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        name=\"file\"\r\n        onChange={onChange}\r\n      />\r\n\r\n      {!loading && (\r\n        <button\r\n          style={{ backgroundColor: '#ffff', border: 'none', cursor: 'pointer' }}\r\n          onClick={onButtonClick}>\r\n          <img src={file.fileURL || fileURL} alt=\"img\" width=\"100%\" />\r\n        </button>\r\n      )}\r\n      {loading && (\r\n        <div>\r\n          <Spin size=\"large\" tip=\"Loading...\" />,\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageFileInput\r\n"]},"metadata":{},"sourceType":"module"}