{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/SSAFY/Desktop/\\uC0C8 \\uD3F4\\uB354/S06P31C205/front/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import _regeneratorRuntime from\"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\\\uC0C8 \\uD3F4\\uB354\\\\S06P31C205\\\\front\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import styled from'styled-components';import{EditOutlined}from'@ant-design/icons';import{useSelector}from'react-redux';import{Form,Input,Button,Select,Modal}from'antd';import{getAxios}from'../../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Option=Select.Option;var Age=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-top: 5%;\\n\"])));function MyAge(){var _useSelector=useSelector(function(state){return state.user;}),me=_useSelector.me;var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editable=_useState2[0],setEditable=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),age=_useState4[0],setAge=_useState4[1];var onFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var axios;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios=getAxios();_context.t0=me!==null&&me.userId!==null;if(!_context.t0){_context.next=5;break;}_context.next=5;return axios.put('user/modify',{age:values.ageRange,image:me.image,gender:me.gender},{params:{userId:me.userId}});case 5:me.age=values.ageRange;case 6:case\"end\":return _context.stop();}}},_callee);}));return function onFinish(_x){return _ref.apply(this,arguments);};}();var showAge=function showAge(e){if(e==1){return'어린이 (0~9)';}else if(e==2){return'청소년 (10~19)';}else if(e==3){return'청년 (20~29)';}else if(e==4){return'중/장년 (30~59)';}else if(e==5){return'노년 (60~)';}};var success=function success(){Modal.success({content:'회원정보 수정이 완료되었습니다.'// onOk: handleMove,\n});};return/*#__PURE__*/_jsx(\"div\",{children:editable===false?/*#__PURE__*/_jsxs(Age,{children:[\"\\uC5F0\\uB839\\uB300 : \",me!==null&&showAge(me.age),' ',/*#__PURE__*/_jsx(EditOutlined,{onClick:function onClick(e){setEditable(!editable);}})]}):/*#__PURE__*/_jsxs(Age,{children:[\"\\uB098\\uC774 :\",/*#__PURE__*/_jsxs(Form,{form:form,name:\"modify\",onFinish:onFinish,autoComplete:\"off\",layout:\"vertical\",children:[/*#__PURE__*/_jsx(Form.Item,{label:\"\\uC5F0\\uB839\\uB300\",name:\"ageRange\",rules:[{required:false,message:'Please select ageRange!'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Select your ageRange\",children:[/*#__PURE__*/_jsx(Option,{value:\"1\",children:\"\\uC5B4\\uB9B0\\uC774 (0~9)\"}),/*#__PURE__*/_jsx(Option,{value:\"2\",children:\"\\uCCAD\\uC18C\\uB144 (10~19)\"}),/*#__PURE__*/_jsx(Option,{value:\"3\",children:\"\\uCCAD\\uB144 (20~29)\"}),/*#__PURE__*/_jsx(Option,{value:\"4\",children:\"\\uC911/\\uC7A5\\uB144 (30~59)\"}),/*#__PURE__*/_jsx(Option,{value:\"5\",children:\"\\uB178\\uB144 (60~)\"})]})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",onClick:success,children:\"\\uB4F1\\uB85D\"})})]}),/*#__PURE__*/_jsx(EditOutlined,{onClick:function onClick(e){setEditable(!editable);}})]})});}export default MyAge;","map":{"version":3,"sources":["C:/Users/SSAFY/Desktop/새 폴더/S06P31C205/front/src/components/Profile/MyAge.jsx"],"names":["React","useState","styled","EditOutlined","useSelector","Form","Input","Button","Select","Modal","getAxios","Option","Age","div","MyAge","state","user","me","useForm","form","editable","setEditable","age","setAge","onFinish","values","axios","userId","put","ageRange","image","gender","params","showAge","e","success","content","required","message"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { EditOutlined } from '@ant-design/icons'\r\nimport { useSelector } from 'react-redux'\r\nimport { Form, Input, Button, Select, Modal } from 'antd'\r\nimport { getAxios } from '../../api'\r\nconst { Option } = Select\r\n\r\nconst Age = styled.div`\r\n  margin-top: 5%;\r\n`\r\nfunction MyAge() {\r\n  const { me } = useSelector((state) => state.user)\r\n  const [form] = Form.useForm()\r\n  const [editable, setEditable] = useState(false)\r\n  const [age, setAge] = useState('')\r\n\r\n  const onFinish = async (values) => {\r\n    const axios = getAxios()\r\n    me !== null &&\r\n      me.userId !== null &&\r\n      (await axios.put(\r\n        'user/modify',\r\n        { age: values.ageRange, image: me.image, gender: me.gender },\r\n        { params: { userId: me.userId } },\r\n      ))\r\n    me.age = values.ageRange\r\n  }\r\n  const showAge = (e) => {\r\n    if (e == 1) {\r\n      return '어린이 (0~9)'\r\n    } else if (e == 2) {\r\n      return '청소년 (10~19)'\r\n    } else if (e == 3) {\r\n      return '청년 (20~29)'\r\n    } else if (e == 4) {\r\n      return '중/장년 (30~59)'\r\n    } else if (e == 5) {\r\n      return '노년 (60~)'\r\n    }\r\n  }\r\n  const success = () => {\r\n    Modal.success({\r\n      content: '회원정보 수정이 완료되었습니다.',\r\n      // onOk: handleMove,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {editable === false ? (\r\n        <Age>\r\n          연령대 : {me !== null && showAge(me.age)}{' '}\r\n          <EditOutlined\r\n            onClick={(e) => {\r\n              setEditable(!editable)\r\n            }}></EditOutlined>\r\n        </Age>\r\n      ) : (\r\n        <Age>\r\n          나이 :\r\n          <Form form={form} name=\"modify\" onFinish={onFinish} autoComplete=\"off\" layout=\"vertical\">\r\n            <Form.Item\r\n              label=\"연령대\"\r\n              name=\"ageRange\"\r\n              rules={[\r\n                {\r\n                  required: false,\r\n                  message: 'Please select ageRange!',\r\n                },\r\n              ]}>\r\n              <Select placeholder=\"Select your ageRange\">\r\n                <Option value=\"1\">어린이 (0~9)</Option>\r\n                <Option value=\"2\">청소년 (10~19)</Option>\r\n                <Option value=\"3\">청년 (20~29)</Option>\r\n                <Option value=\"4\">중/장년 (30~59)</Option>\r\n                <Option value=\"5\">노년 (60~)</Option>\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\" onClick={success}>\r\n                등록\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n          <EditOutlined\r\n            onClick={(e) => {\r\n              setEditable(!editable)\r\n            }}></EditOutlined>\r\n        </Age>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nexport default MyAge\r\n"]},"metadata":{},"sourceType":"module"}